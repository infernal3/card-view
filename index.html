<!doctypehtml>
<html>
  <head>
    <style>
      div.Ab{
        display:table-row;
      }
      div.Ac{
        display:table-cell;
        width:50px;
        height:34px;
        border: 1px solid #000;
        text-align:center;
        padding-top:17px;
        font-size:14px;
        user-select:none;
        -webkit-user-select:none;
      }
      div.Ba{
        background:#474F52; /*Default*/
      }
      div.Bb{
        background:#80C71F; /*Lime*/
      }
      div.Bc{
        background:#B02E26; /*Red*/
      }
      div.Bd{
        background:#5E7C16; /*Green*/
      }
      div.Be{
        background:#C74EBD; /*MelodyBar*/
      }
      div.Bf{
        background:#F0F0F0; /*MelodyInactive*/
      }
    </style>
    <script defer>
        /**
         * Original script
         */
        const el = e => document.getElementById(e);
        var tab = 0;
        const app = document.createElement("div");
        const Tab1Helper = function() {
            this.classList.toggle("Bb");
            this.classList.toggle("Bc");
        }
        const Tab2Helper = function() {
            if(tab === 2 && Tab2Index == parseInt(this.textContent)){
                this.classList.add("Bb");
                this.classList.remove("Bc");
                Tab2Index++;
            }
        }
        const Tab0 = function() { // reset button
            tab = 0;
            for(let i=0;i<6;i++){
                for(let j=0;j<9;j++){
                    el(`${i}${j}`).className = "Ac Ba";
                    el(`${i}${j}`).removeEventListener("click",Tab1Helper);
                    el(`${i}${j}`).removeEventListener("click",Tab2Helper);
                    el(`${i}${j}`).textContent = "";
                }
            }
        }
        const Tab1 = function() {// Reference Hash: 6rXQR6wWB8I
            Tab0();
            tab = 1;
            for(let i=1;i<4;i++){
                for(let j=2;j<7;j++){
                    el(`${i}${j}`).className = Math.random() < 0.25 ? "Ac Bb" : "Ac Bc";
                    el(`${i}${j}`).addEventListener("click",Tab1Helper);
                }
            }
        }
        const Tab2 = function() {
            Tab0();
            tab = 2;
            Tab2Index = 1;
            let arr=[],temp=[0,1,2,3,4,5,6,7,8,9,10,11,12,13];
            while(temp.length>0){
                arr.push(temp.splice(Math.random()*temp.length,1)[0]);
            }
            let k=0;
            for(let i=2;i<4;i++){
                for(let j=1;j<8;j++){
                    el(`${i}${j}`).className = "Ac Bc";
                    el(`${i}${j}`).textContent = arr[k]+1;
                    el(`${i}${j}`).addEventListener("click",Tab2Helper);
                    k++;
                }
            }
        }
        const Tab3SetRedBar = function() {
            for(let i=1;i<5;i++){
                for(let j=1;j<6;j++){
                    el(`${i}${j}`).className = "Ac Bf";
                }
            }
            for(let j=1;j<6;j++){
                el(`${Tab3Index}${j}`).className = "Ac Bc";
            }
            Tab3Index2 = parseInt(Math.random() * 5) + 1;
            el(`${Tab3Index2}0`).className = "Ac Be";
            el(`${Tab3Index2}5`).className = "Ac Be";
        }
        const Tab3 = function() {
            Tab0();
            tab = 3;
            Tab3Index = 1;
            Tab3SetRedBar();
        }
        app.id="root";
        for(let i=0;i<6;i++){
            let str = '<div class="Ab">';
            for(let j=0;j<9;j++){
                str += `<div class="Ac Ba" id="${i}${j}"></div>`
            }
            app.innerHTML += str + "</div>";
        }
        app.innerHTML += '<div id="panel"></div>';
        window.addEventListener("load",e=>{
            document.body.append(app);
            el("panel").innerHTML += `
            <button id="tab0">(Reset)</button>
            <button id="tab1">Terminal 1</button>
            <button id="tab2">Terminal 2</button>
            <button id="tab3">Terminal 3</button>
            `;
            el("tab0").addEventListener("click",()=>{Tab0();});
            el("tab1").addEventListener("click",()=>{Tab1();});
            el("tab2").addEventListener("click",()=>{Tab2();});
            el("tab3").addEventListener("click",()=>{Tab3();});
        });
    </script>
  </head>
</html>
