<!doctypehtml>
<html>
  <head>
    <style>
      div.Ab{
        display:table-row;
      }
      div.Ac{
        display:table-cell;
        width:50px;
        height:50px;
        border: 1px solid #000;
        text-align:center;
        font-size:14px;
        user-select:none;
        -webkit-user-select:none;
      }
      div.Ba{
        background:#474F52; /*Default*/
      }
      div.Bb{
        background:#80C71F; /*Lime*/
      }
      div.Bc{
        background:#B02E26; /*Red*/
      }
      div.Bd{
        background:#5E7C16; /*Green*/
      }
      div.Be{
        background:#C74EBD; /*MelodyBar*/
      }
      div.Bf{
        background:#F0F0F0; /*MelodyInactive*/
      }
      div.Ca{
        padding-top:17px;
        height: 33px !important;
      }
    </style>
    <script defer>
        /**
         * Original script
         */
        const el = e => document.getElementById(e);
        var tab = 0;
        const app = document.createElement("div");
        const Tab1Helper = function() {
            if(tab === 1){
                this.classList.toggle("Bb");
                this.classList.toggle("Bc");
            }
        }
        const Tab2Helper = function() {
            if(tab === 2 && Tab2Index == parseInt(this.textContent)){
                this.classList.add("Bb");
                this.classList.remove("Bc");
                Tab2Index++;
            }
        }
        const Tab3Helper = function() {
            if(tab === 3 && Tab3ConvertIndex3(Tab3Index3) == Tab3Index2){
                Tab3Index++;
                if(Tab3Index < 5) Tab3SetRedBar();
                else Tab0();
            }
        }
        const Tab0 = function() { // reset button
            tab = 0;
            for(let i=0;i<6;i++){
                for(let j=0;j<9;j++){
                    el(`${i}${j}`).className = "Ac Ba";
                    el(`${i}${j}`).removeEventListener("click",Tab1Helper);
                    el(`${i}${j}`).removeEventListener("click",Tab2Helper);
                    el(`${i}${j}`).textContent = "";
                }
            }
        }
        const Tab1 = function() {// Reference Hash: 6rXQR6wWB8I
            Tab0();
            tab = 1;
            for(let i=1;i<4;i++){
                for(let j=2;j<7;j++){
                    el(`${i}${j}`).className = Math.random() < 0.25 ? "Ac Bb" : "Ac Bc";
                    el(`${i}${j}`).addEventListener("click",Tab1Helper);
                }
            }
        }
        const Tab2 = function() {
            Tab0();
            tab = 2;
            Tab2Index = 1;
            let arr=[],temp=[0,1,2,3,4,5,6,7,8,9,10,11,12,13];
            while(temp.length>0){
                arr.push(temp.splice(Math.random()*temp.length,1)[0]);
            }
            let k=0;
            for(let i=2;i<4;i++){
                for(let j=1;j<8;j++){
                    el(`${i}${j}`).className = "Ac Bc Ca";
                    el(`${i}${j}`).textContent = arr[k]+1;
                    el(`${i}${j}`).addEventListener("click",Tab2Helper);
                    k++;
                }
            }
        }
        const Tab3SetRedBar = function() {
            for(let i=1;i<5;i++){
                for(let j=1;j<6;j++){
                    el(`${i}${j}`).className = "Ac Bf";
                }
            }
            Tab3Index2 = parseInt(Math.random() * 5) + 1;
            for(let i=0;i<6;i+=5){
                for(let j=1;j<6;j++){
                    el(`${i}${j}`).className = "Ac Ba";
                }
                el(`${i}${Tab3Index2}`).className = "Ac Be";
            }
            for(let i=1;i<5;i++){
                el(`${i}7`).innerHTML = `<img width=44 src="./TerracottaRed.webp" alt="Red Terracotta"/>`;
                el(`${i}7`).removeEventListener("click",Tab3Helper);
            }
            el(`${Tab3Index}7`).innerHTML = `<img width=44 src="./TerracottaGreen.webp" alt="Green Terracotta"/>`;
            el(`${Tab3Index}7`).addEventListener("click",Tab3Helper);
            Tab3Index3 = parseInt(Math.random() * 8) + 1;
            Tab3SetGreenBar();
        }
        const Tab3ConvertIndex3 = function(e){
            return [null,1,2,3,4,5,4,3,2][e] || null;
        }
        const Tab3SetGreenBar = function(){
            for(let j=1;j<6;j++){
                el(`${Tab3Index}${j}`).className = "Ac Bc";
            }
            el(`${Tab3Index}${Tab3ConvertIndex3(Tab3Index3)}`).className = "Ac Bb";
        }
        const Tab3 = function() {
            Tab0();
            tab = 3;
            Tab3Index = 1;
            Tab3SetRedBar();
        }
        app.id="root";
        for(let i=0;i<6;i++){
            let str = '<div class="Ab">';
            for(let j=0;j<9;j++){
                str += `<div class="Ac Ba" id="${i}${j}"></div>`
            }
            app.innerHTML += str + "</div>";
        }
        app.innerHTML += '<div id="panel"></div>';
        window.addEventListener("load",e=>{
            document.body.append(app);
            el("panel").innerHTML += `
            <button id="tab0">(Reset)</button>
            <button id="tab1">Terminal 1</button>
            <button id="tab2">Terminal 2</button>
            <button id="tab3">Terminal 3</button>
            `;
            el("tab0").addEventListener("click",()=>{Tab0();});
            el("tab1").addEventListener("click",()=>{Tab1();});
            el("tab2").addEventListener("click",()=>{Tab2();});
            el("tab3").addEventListener("click",()=>{Tab3();});
        });
      window.setInterval(()=>{
          if(tab === 3){
              Tab3Index3 = Tab3Index3 > 7 ? 1 : Tab3Index3 + 1;
              Tab3SetGreenBar();
          }
      },250);
    </script>
  </head>
</html>
